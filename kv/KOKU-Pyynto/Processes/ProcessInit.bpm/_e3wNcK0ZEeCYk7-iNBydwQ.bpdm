<bpel:process xmlns:bpdm="http://www.intalio/designer/business-process-data-modeling" xmlns:mapper="http://www.intalio.com/designer/mapper" xmlns:form1_1="http://www.intalio.com/gi/form1_1.gi" xmlns:form1_11="http://www.intalio.com/gi/Forms/form1_1.gi/attachments" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ProcessReceipient-Process="http://arcusys.fi/ProcessReceipient/Process" xmlns:Copyofform1_11="http://www.intalio.com/gi/Copyofform1_1.gi/attachments" xmlns:form1_12="http://www.intalio.com/gi/Forms/form1_1.gi" xmlns:diag="http://thisdiagram" xmlns:UsersAndGroupsServiceImpl="http://soa.common.koku.arcusys.fi/" xmlns:ProcessReceipient-Process1="http://arcusys.fi/Processes/ProcessReceipient/Process" xmlns:KokuRequestProcessingServiceImpl="http://soa.kv.koku.arcusys.fi/" xmlns:tns="http://www.arcusys.fi/DynamicFields" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:attachments="http://www.intalio.com/gi/form1_1.gi/attachments" xmlns:Services="http://thisdiagram/Services" xmlns:Copyofform1_1="http://www.intalio.com/gi/Copyofform1_1.gi" xmlns:this="http://thisdiagram/Process" xmlns:xml="http://www.w3.org/XML/1998/namespace" xmlns:bpel="http://docs.oasis-open.org/wsbpel/2.0/process/executable" xmlns:vprop="http://docs.oasis-open.org/wsbpel/2.0/varprop" xmlns:pnlk="http://docs.oasis-open.org/wsbpel/2.0/plnktype" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:ode="http://www.apache.org/ode/type/extension" targetNamespace="http://thisdiagram/Process">
    <bpdm:dependencies version="6000089">
        <bpdm:namespaceDefinition bpdm:uri="http://www.intalio.com/gi/form1_1.gi" bpdm:prefix="form1_1" bpdm:comment="contrib=&apos;project:///form1_1.gi.wsdl"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://www.intalio.com/gi/Forms/form1_1.gi/attachments" bpdm:prefix="form1_11" bpdm:comment="contrib=&apos;project:///form1_1.gi.wsdl"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://www.w3.org/2001/XMLSchema-instance" bpdm:prefix="xsi"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://arcusys.fi/ProcessReceipient/Process" bpdm:prefix="ProcessReceipient-Process" bpdm:comment="contrib=&apos;project:///Services/ProcessReceipient-Process.wsdl"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://www.intalio.com/gi/Copyofform1_1.gi/attachments" bpdm:prefix="Copyofform1_11" bpdm:comment="contrib=&apos;project:///Services/Copyofform1_1.gi.wsdl"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://www.intalio.com/gi/Forms/form1_1.gi" bpdm:prefix="form1_12" bpdm:comment="contrib=&apos;project:///form1_1.gi.wsdl"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://thisdiagram" bpdm:prefix="diag" bpdm:comment="contrib=&apos;partner-pool:///_ZjUfZK0ZEeCYk7-iNBydwQ"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://soa.common.koku.arcusys.fi/" bpdm:prefix="UsersAndGroupsServiceImpl" bpdm:comment="contrib=&apos;project:///UsersAndGroupsServiceImpl.wsdl"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://arcusys.fi/Processes/ProcessReceipient/Process" bpdm:prefix="ProcessReceipient-Process1" bpdm:comment="contrib=&apos;project:///Services/ProcessReceipient-Process.wsdl"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://soa.kv.koku.arcusys.fi/" bpdm:prefix="KokuRequestProcessingServiceImpl" bpdm:comment="contrib=&apos;project:///KokuRequestProcessingServiceImpl.wsdl"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://www.arcusys.fi/DynamicFields" bpdm:prefix="tns" bpdm:comment="contrib=&apos;project:///DynamicFields.xsd"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://www.w3.org/2001/XMLSchema" bpdm:prefix="xs"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://www.intalio.com/gi/form1_1.gi/attachments" bpdm:prefix="attachments" bpdm:comment="contrib=&apos;project:///form1_1.gi.wsdl"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://thisdiagram/Services" bpdm:prefix="Services" bpdm:comment="contrib=&apos;partner-pool:///_p1rTkK0ZEeCYk7-iNBydwQ"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://www.intalio.com/gi/Copyofform1_1.gi" bpdm:prefix="Copyofform1_1" bpdm:comment="contrib=&apos;project:///Services/ProcessReceipient-Process.wsdl"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://thisdiagram/Process" bpdm:prefix="this" bpdm:type="this_process"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://www.w3.org/XML/1998/namespace" bpdm:prefix="xml"></bpdm:namespaceDefinition>
        <bpdm:namespaceContributor bpdm:url="thisprocess://this-process-types" bpdm:label="process defined this-process-types">
            <wsdl:service name="ProcessAndUserForPortTypeProcessPlkService">
                <wsdl:port name="Process_for_UserPort" binding="this:ProcessAndUserForPortTypeProcessPlkServiceBinding">
                    <address location="${deploy_serverUrl}${deploy_baseSoapServicesUrl}/${deploy_bundleNcName}/${diagram_relativeURL}/Process/User/ProcessAndUserForPortTypeProcessPlk"/>
                </wsdl:port>
            </wsdl:service>
            <bpel:binding name="ProcessAndUserForPortTypeProcessPlkServiceBinding" type="form1_1:Process" bpdm:isSynchronized="true"/>
        </bpdm:namespaceContributor>
        <bpdm:namespaceContributor bpdm:url="project:///form1_1.gi.wsdl"/>
        <bpdm:namespaceContributor bpdm:url="project:///DynamicFields.xsd"/>
        <bpdm:namespaceContributor bpdm:url="partner-pool:///_p1rTkK0ZEeCYk7-iNBydwQ" bpdm:label="Services"/>
        <bpdm:namespaceContributor bpdm:url="project:///KokuRequestProcessingServiceImpl.wsdl"/>
        <bpdm:namespaceContributor bpdm:url="project:///Services/ProcessReceipient-Process.wsdl"/>
        <bpdm:namespaceContributor bpdm:url="project:///Services/Copyofform1_1.gi.wsdl"/>
        <bpdm:namespaceContributor bpdm:url="project:///UsersAndGroupsServiceImpl.wsdl"/>
        <bpdm:namespaceContributor bpdm:url="partner-pool:///_ZjUfZK0ZEeCYk7-iNBydwQ" bpdm:label="User"/>
    </bpdm:dependencies>
    <bpel:scope bpdm:label="Process" bpdm:ID="_e3wNcK0ZEeCYk7-iNBydwQ">
        <bpel:partnerLinks>
            <bpel:partnerLink name="servicesAndProcessForUsersAndGroupsServicePortPlkVar" partnerLinkType="diag:ServicesAndProcessForUsersAndGroupsServicePortPlk" initializePartnerRole="yes" partnerRole="Services_for_Process" bpdm:invokedService="UsersAndGroupsServiceImpl:UsersAndGroupsService" bpdm:invokedPort="UsersAndGroupsServicePort" bpdm:invokedSOAPAddress="http://trelx51x:8080/arcusys-koku-0.1-SNAPSHOT-arcusys-common-0.1-SNAPSHOT/UsersAndGroupsServiceImpl" bpdm:invokedIsDefault="true" bpdm:clientTasks="_KIczMK0hEeCYk7-iNBydwQ:_aPlVEPMNEeC6aqQJKR8yVQ" bpdm:isManaged="true" bpdm:otherPoolId="_p1rTkK0ZEeCYk7-iNBydwQ"/>
            <bpel:partnerLink name="processAndUserForPortTypeProcessPlkVar" partnerLinkType="diag:ProcessAndUserForPortTypeProcessPlk" myRole="Process_for_User" bpdm:enableSharing="false" bpdm:providedService="this:ProcessAndUserForPortTypeProcessPlkService" bpdm:providedPort="Process_for_UserPort" bpdm:provideSOAPAddress="${deploy_serverUrl}${deploy_baseSoapServicesUrl}/${deploy_bundleNcName}/${diagram_relativeURL}/Process/User/ProcessAndUserForPortTypeProcessPlk" bpdm:providedIsDefault="true" bpdm:clientTasks="_e3wNcK0ZEeCYk7-iNBydwQ:_9ywGAK0ZEeCYk7-iNBydwQ" bpdm:isManaged="true" bpdm:otherPoolId="_ZjUfZK0ZEeCYk7-iNBydwQ"/>
            <bpel:partnerLink name="servicesAndProcessForCanonicPortPlkVar" partnerLinkType="diag:ServicesAndProcessForCanonicPortPlk" initializePartnerRole="yes" partnerRole="Services_for_Process" bpdm:invokedService="ProcessReceipient-Process1:CanonicServiceForInterface" bpdm:invokedPort="canonicPort" bpdm:invokedSOAPAddress="http://intalio.intra.arcusys.fi:8080/ode/processes/KOKU-Pyynto/Processes/ProcessReceipient/Process/Interface" bpdm:invokedIsDefault="true" bpdm:clientTasks="_KIczMK0hEeCYk7-iNBydwQ:_ON3uQPjBEeC2ENkm3HmsIQ" bpdm:isManaged="true" bpdm:otherPoolId="_p1rTkK0ZEeCYk7-iNBydwQ"/>
            <bpel:partnerLink name="servicesAndProcessForKokuRequestProcessingServicePortPlkVar" partnerLinkType="diag:ServicesAndProcessForKokuRequestProcessingServicePortPlk" initializePartnerRole="yes" partnerRole="Services_for_Process" bpdm:invokedService="KokuRequestProcessingServiceImpl:KokuRequestProcessingService" bpdm:invokedPort="KokuRequestProcessingServicePort" bpdm:invokedSOAPAddress="http://kohtikumppanuutta-dev.dmz:8180/arcusys-koku-0.1-SNAPSHOT-kv-model-0.1-SNAPSHOT/KokuRequestProcessingServiceImpl" bpdm:invokedIsDefault="true" bpdm:clientTasks="_e3wNcK0ZEeCYk7-iNBydwQ:_RZbLwNd5EeCU1O2hlInHBA, _e3wNcK0ZEeCYk7-iNBydwQ:_eUWwAK0aEeCYk7-iNBydwQ" bpdm:isManaged="true" bpdm:otherPoolId="_p1rTkK0ZEeCYk7-iNBydwQ"/>
        </bpel:partnerLinks>
        <bpel:variables>
            <bpel:variable name="Dynamic_Fields_Form" element="tns:Dynamic_Fields_Form" bpdm:id="_CoBL0q0aEeCYk7-iNBydwQ"/>
            <bpel:variable name="form1_1InitProcessRequestMsg" messageType="form1_1:initProcessRequest" bpdm:id="_dYuzRfP9EeC37vdtVMGnEw" bpdm:messageIds="inc:_dYgw0PP9EeC37vdtVMGnEw"/>
            <bpel:variable name="form1_1InitProcessResponseMsg" messageType="form1_1:initProcessResponse" bpdm:id="_dnhdMPP9EeC37vdtVMGnEw" bpdm:messageIds=" out:_dnUB0PP9EeC37vdtVMGnEw">
                <bpel:from bpdm:toPart="root">
                    <bpel:literal bpdm:linkedMessageType="form1_1:initProcessResponse" bpdm:linkedPart="root"></bpel:literal>
                </bpel:from>
            </bpel:variable>
            <bpel:variable name="kokuRequestProcessingServiceImplSendRequestMsg" messageType="KokuRequestProcessingServiceImpl:sendRequest" binding="KokuRequestProcessingServiceImpl:KokuRequestProcessingServiceSoapBinding" operation="sendRequest" opMsgType="0" bpdm:id="_gPUHECZLEeGZ6qIn2ne6Bw" bpdm:messageIds=" out:_gPE2gCZLEeGZ6qIn2ne6Bw">
                <bpel:from bpdm:toPart="parameters">
                    <bpel:literal bpdm:linkedMessageType="KokuRequestProcessingServiceImpl:sendRequest" bpdm:linkedPart="parameters" bpdm:binding="KokuRequestProcessingServiceImpl:KokuRequestProcessingServiceSoapBinding" bpdm:opMsgType="0" bpdm:operation="sendRequest"></bpel:literal>
                </bpel:from>
            </bpel:variable>
            <bpel:variable name="kokuRequestProcessingServiceImplSendRequestResponseMsg" messageType="KokuRequestProcessingServiceImpl:sendRequestResponse" binding="KokuRequestProcessingServiceImpl:KokuRequestProcessingServiceSoapBinding" operation="sendRequest" opMsgType="1" bpdm:id="_g2mJgCZLEeGZ6qIn2ne6Bw" bpdm:messageIds="inc:_g2I2gCZLEeGZ6qIn2ne6Bw"/>
            <bpel:variable name="kokuRequestProcessingServiceImplSendRequestWithTemplateMsg" messageType="KokuRequestProcessingServiceImpl:sendRequestWithTemplate" binding="KokuRequestProcessingServiceImpl:KokuRequestProcessingServiceSoapBinding" operation="sendRequestWithTemplate" opMsgType="0" bpdm:id="_hPBQkCZLEeGZ6qIn2ne6Bw" bpdm:messageIds=" out:_hOyAACZLEeGZ6qIn2ne6Bw">
                <bpel:from bpdm:toPart="parameters">
                    <bpel:literal bpdm:linkedMessageType="KokuRequestProcessingServiceImpl:sendRequestWithTemplate" bpdm:linkedPart="parameters" bpdm:binding="KokuRequestProcessingServiceImpl:KokuRequestProcessingServiceSoapBinding" bpdm:opMsgType="0" bpdm:operation="sendRequestWithTemplate"></bpel:literal>
                </bpel:from>
            </bpel:variable>
            <bpel:variable name="kokuRequestProcessingServiceImplSendRequestWithTemplateResponseMsg" messageType="KokuRequestProcessingServiceImpl:sendRequestWithTemplateResponse" binding="KokuRequestProcessingServiceImpl:KokuRequestProcessingServiceSoapBinding" operation="sendRequestWithTemplate" opMsgType="1" bpdm:id="_i5B7UCZLEeGZ6qIn2ne6Bw" bpdm:messageIds="inc:_i4jaMCZLEeGZ6qIn2ne6Bw"/>
        </bpel:variables>
        <bpel:sequence>
            <bpdm:messagingtask eventType="start: message" operation="initProcess" partnerLink="processAndUserForPortTypeProcessPlkVar" portType="form1_1:Process" isMyRole="true" enableSharing="false" bpdm:label="Vastaanota tilaus" bpdm:ID="_9ywGAK0ZEeCYk7-iNBydwQ">
                <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="receive" bpdm:messageVariable="form1_1InitProcessRequestMsg" bpdm:msgVarScopeId="_e3wNcK0ZEeCYk7-iNBydwQ" bpdm:variableIsManaged="true" bpdm:messageType="form1_1:initProcessRequest" bpdm:ID="_dYgw0PP9EeC37vdtVMGnEw"></bpdm:linkset>
                <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="reply" bpdm:messageVariable="form1_1InitProcessResponseMsg" bpdm:msgVarScopeId="_e3wNcK0ZEeCYk7-iNBydwQ" bpdm:variableIsManaged="true" bpdm:messageType="form1_1:initProcessResponse" bpdm:ID="_dnUB0PP9EeC37vdtVMGnEw"></bpdm:linkset>
            </bpdm:messagingtask>
            <bpdm:messagingtask bpdm:label="Luo tilaus" bpdm:ID="_AExzAK0aEeCYk7-iNBydwQ">
                <bpdm:linkset bpdm:type="assignments">
                    <bpel:copy>
                        <bpel:from>$form1_1InitProcessRequestMsg.root/form1_1:taskOutput/tns:Dynamic_Fields_Form</bpel:from>
                        <bpel:to>$Dynamic_Fields_Form</bpel:to><mapper:mapperLink><mapper:vertice id="289833525" targetPath="$Dynamic_Fields_Form" targetedBy="903293836-arg0"></mapper:vertice><mapper:vertice id="903293836" sourcePath="$form1_1InitProcessRequestMsg.root/form1_1:taskOutput/tns:Dynamic_Fields_Form"></mapper:vertice></mapper:mapperLink>
                    </bpel:copy>
                </bpdm:linkset>
            </bpdm:messagingtask>
            <bpdm:messagingtask bpdm:label="Tee HTML muunnos" bpdm:ID="_GtrZoK0aEeCYk7-iNBydwQ">
                <bpdm:linkset bpdm:type="assignments">
                    <bpel:copy>
                        <bpel:from>bpel:doXslTransform("../xsl/DynamicForm.xsl", $form1_1InitProcessRequestMsg.root/form1_1:taskOutput/tns:Dynamic_Fields_Form)</bpel:from>
                        <bpel:to>$Dynamic_Fields_Form/tns:HTML/tns:HTML_Sisalto</bpel:to><mapper:mapperLink><mapper:vertice id="1543979032" targetPath="$Dynamic_Fields_Form/tns:HTML/tns:HTML_Sisalto" targetedBy="1623147919-arg2"></mapper:vertice><mapper:vertice id="1623147919" dimension="217x85" location="372,120"><mapper:value>bpel:doXslTransform()</mapper:value></mapper:vertice><mapper:vertice id="1736684826" dimension="157x37" location="156,60" targetedBy="1623147919-arg0"><mapper:value>"../xsl/DynamicForm.xsl"</mapper:value></mapper:vertice><mapper:vertice id="1532958714" sourcePath="$form1_1InitProcessRequestMsg.root/form1_1:taskOutput/tns:Dynamic_Fields_Form" targetedBy="1623147919-arg1"></mapper:vertice></mapper:mapperLink>
                    </bpel:copy>
                </bpdm:linkset>
            </bpdm:messagingtask>
            <bpdm:gateway bpdm:label="Onko pohjaa?" bpdm:ID="_NquFYNd5EeCU1O2hlInHBA" bpdm:gatewayType="data_xor" bpdm:isMerge="false">
                <bpdm:linkset bpdm:type="case" bpdm:default="false" bpdm:ID="_UaUJ4Nd5EeCU1O2hlInHBA" bpdm:targetDisplayName="[Onko pohjaa? - Lähetä HTML (pohja)]">
                    <bpel:condition>$Dynamic_Fields_Form/tns:RequestProcessing/tns:RequestProcessing_RequestID != "-"<mapper:mapperLink><mapper:vertice id="1379145179" targetPath="$condition" targetedBy="1574890706-arg2"></mapper:vertice><mapper:vertice id="1574890706" dimension="78x24" location="276,120"><mapper:value>!=</mapper:value></mapper:vertice><mapper:vertice id="2039811935" sourcePath="$Dynamic_Fields_Form/tns:RequestProcessing/tns:RequestProcessing_RequestID" targetedBy="1574890706-arg0"></mapper:vertice><mapper:vertice id="1422740578" dimension="78x24" location="180,192" targetedBy="1574890706-arg1"><mapper:value>"-"</mapper:value></mapper:vertice></mapper:mapperLink></bpel:condition>
                </bpdm:linkset>
                <bpdm:linkset bpdm:type="case" bpdm:default="false" bpdm:ID="_UtaFANd5EeCU1O2hlInHBA" bpdm:targetDisplayName="[Onko pohjaa? - Lähetä HTML]">
                    <bpel:condition>$Dynamic_Fields_Form/tns:RequestProcessing/tns:RequestProcessing_RequestID = "-"<mapper:mapperLink><mapper:vertice id="1454642352" targetPath="$condition" targetedBy="185202815-arg2"></mapper:vertice><mapper:vertice id="185202815" dimension="78x24" location="356,90"><mapper:value>=</mapper:value></mapper:vertice><mapper:vertice id="1894235634" sourcePath="$Dynamic_Fields_Form/tns:RequestProcessing/tns:RequestProcessing_RequestID" targetedBy="185202815-arg0"></mapper:vertice><mapper:vertice id="818279370" dimension="78x24" location="264,156" targetedBy="185202815-arg1"><mapper:value>"-"</mapper:value></mapper:vertice></mapper:mapperLink></bpel:condition>
                </bpdm:linkset>
                <bpel:sequence>
                    <bpdm:messagingtask eventType="intermediate: message" operation="sendRequestWithTemplate" partnerLink="servicesAndProcessForKokuRequestProcessingServicePortPlkVar" portType="KokuRequestProcessingServiceImpl:KokuRequestProcessingService" isMyRole="false" enableSharing="false" bpdm:label="Lähetä HTML (pohja)" bpdm:ID="_RZbLwNd5EeCU1O2hlInHBA">
                        <bpdm:linkset bpdm:type="assignments">
                            <bpel:copy>
                                <bpel:from>$Dynamic_Fields_Form/tns:User/tns:User_Sender</bpel:from>
                                <bpel:to>$kokuRequestProcessingServiceImplSendRequestWithTemplateMsg.parameters/fromUser</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="713264128" targetPath="$kokuRequestProcessingServiceImplSendRequestWithTemplateMsg.parameters/fromUser" targetedBy="1904803042-arg0"></mapper:vertice>
  <mapper:vertice id="1904803042" sourcePath="$Dynamic_Fields_Form/tns:User/tns:User_Sender"></mapper:vertice>
</mapper:mapperLink>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from>$Dynamic_Fields_Form/tns:RequestProcessing/tns:RequestProcessing_RequestID</bpel:from>
                                <bpel:to>$kokuRequestProcessingServiceImplSendRequestWithTemplateMsg.parameters/requestTemplateId</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="1836612085" targetPath="$kokuRequestProcessingServiceImplSendRequestWithTemplateMsg.parameters/requestTemplateId" targetedBy="301683550-arg0"></mapper:vertice>
  <mapper:vertice id="301683550" sourcePath="$Dynamic_Fields_Form/tns:RequestProcessing/tns:RequestProcessing_RequestID"></mapper:vertice>
</mapper:mapperLink>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from>$Dynamic_Fields_Form/tns:Header/tns:Header_Text</bpel:from>
                                <bpel:to>$kokuRequestProcessingServiceImplSendRequestWithTemplateMsg.parameters/subject</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="162092152" targetPath="$kokuRequestProcessingServiceImplSendRequestWithTemplateMsg.parameters/subject" targetedBy="79031861-arg0"></mapper:vertice>
  <mapper:vertice id="79031861" sourcePath="$Dynamic_Fields_Form/tns:Header/tns:Header_Text"></mapper:vertice>
</mapper:mapperLink>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from>bpel:doXslTransform("../xsl/SendRequestReceipients.xsl", $Dynamic_Fields_Form)</bpel:from>
                                <bpel:to>$kokuRequestProcessingServiceImplSendRequestWithTemplateMsg.parameters/receipients</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="1212565149" targetPath="$kokuRequestProcessingServiceImplSendRequestWithTemplateMsg.parameters/receipients" targetedBy="1068633977-arg2"></mapper:vertice>
  <mapper:vertice id="1068633977" dimension="217x85" location="324,144">
    <mapper:value>bpel:doXslTransform()</mapper:value>
  </mapper:vertice>
  <mapper:vertice id="1902430929" dimension="170x39" location="59,142" targetedBy="1068633977-arg0">
    <mapper:value>"../xsl/SendRequestReceipients.xsl"</mapper:value>
  </mapper:vertice>
  <mapper:vertice id="1064741589" sourcePath="$Dynamic_Fields_Form" targetedBy="1068633977-arg1"></mapper:vertice>
</mapper:mapperLink>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from>$Dynamic_Fields_Form/tns:HTML/tns:HTML_Sisalto</bpel:from>
                                <bpel:to>$kokuRequestProcessingServiceImplSendRequestWithTemplateMsg.parameters/requestContent</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="1242177871" targetPath="$kokuRequestProcessingServiceImplSendRequestWithTemplateMsg.parameters/requestContent" targetedBy="301572522-arg0"></mapper:vertice>
  <mapper:vertice id="301572522" sourcePath="$Dynamic_Fields_Form/tns:HTML/tns:HTML_Sisalto"></mapper:vertice>
</mapper:mapperLink>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from>$Dynamic_Fields_Form/tns:User/tns:User_Reminder</bpel:from>
                                <bpel:to>$kokuRequestProcessingServiceImplSendRequestWithTemplateMsg.parameters/notifyBeforeDays</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="2091653899" targetPath="$kokuRequestProcessingServiceImplSendRequestWithTemplateMsg.parameters/notifyBeforeDays" targetedBy="2001430118-arg0"></mapper:vertice>
  <mapper:vertice id="2001430118" sourcePath="$Dynamic_Fields_Form/tns:User/tns:User_Reminder"></mapper:vertice>
</mapper:mapperLink>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from>$Dynamic_Fields_Form/tns:User/tns:User_AnswerUntil</bpel:from>
                                <bpel:to>$kokuRequestProcessingServiceImplSendRequestWithTemplateMsg.parameters/replyTill</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="1189414316" targetPath="$kokuRequestProcessingServiceImplSendRequestWithTemplateMsg.parameters/replyTill" targetedBy="391228973-arg0"></mapper:vertice>
  <mapper:vertice id="391228973" sourcePath="$Dynamic_Fields_Form/tns:User/tns:User_AnswerUntil"></mapper:vertice>
</mapper:mapperLink>
                            </bpel:copy>
                        </bpdm:linkset>
                        <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="invoke-request" bpdm:messageVariable="kokuRequestProcessingServiceImplSendRequestWithTemplateMsg" bpdm:msgVarScopeId="_e3wNcK0ZEeCYk7-iNBydwQ" bpdm:variableIsManaged="true" bpdm:messageType="KokuRequestProcessingServiceImpl:sendRequestWithTemplate" bpdm:binding="KokuRequestProcessingServiceImpl:KokuRequestProcessingServiceSoapBinding" bpdm:ID="_hOyAACZLEeGZ6qIn2ne6Bw"></bpdm:linkset>
                        <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="invoke-receive" bpdm:messageVariable="kokuRequestProcessingServiceImplSendRequestWithTemplateResponseMsg" bpdm:msgVarScopeId="_e3wNcK0ZEeCYk7-iNBydwQ" bpdm:variableIsManaged="true" bpdm:messageType="KokuRequestProcessingServiceImpl:sendRequestWithTemplateResponse" bpdm:binding="KokuRequestProcessingServiceImpl:KokuRequestProcessingServiceSoapBinding" bpdm:ID="_i4jaMCZLEeGZ6qIn2ne6Bw"></bpdm:linkset>
                    </bpdm:messagingtask>
                    <bpdm:messagingtask bpdm:label="Tallenna RequestID" bpdm:ID="_V5KtgNd5EeCU1O2hlInHBA">
                        <bpdm:linkset bpdm:type="assignments">
                            <bpel:copy>
                                <bpel:from>$kokuRequestProcessingServiceImplSendRequestWithTemplateResponseMsg.parameters/return</bpel:from>
                                <bpel:to>$Dynamic_Fields_Form/tns:RequestProcessing/tns:RequestProcessing_RequestID</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="2087576195" targetPath="$Dynamic_Fields_Form/tns:RequestProcessing/tns:RequestProcessing_RequestID" targetedBy="1201984376-arg0"></mapper:vertice>
  <mapper:vertice id="1201984376" sourcePath="$kokuRequestProcessingServiceImplSendRequestWithTemplateResponseMsg.parameters/return"></mapper:vertice>
</mapper:mapperLink>
                            </bpel:copy>
                        </bpdm:linkset>
                    </bpdm:messagingtask>
                </bpel:sequence>
                <bpel:sequence>
                    <bpdm:messagingtask eventType="intermediate: message" operation="sendRequest" partnerLink="servicesAndProcessForKokuRequestProcessingServicePortPlkVar" portType="KokuRequestProcessingServiceImpl:KokuRequestProcessingService" isMyRole="false" enableSharing="false" bpdm:label="Lähetä HTML" bpdm:ID="_eUWwAK0aEeCYk7-iNBydwQ">
                        <bpdm:linkset bpdm:type="assignments">
                            <bpel:copy>
                                <bpel:from>$Dynamic_Fields_Form/tns:User/tns:User_Sender</bpel:from>
                                <bpel:to>$kokuRequestProcessingServiceImplSendRequestMsg.parameters/fromUser</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="2092093059" targetPath="$kokuRequestProcessingServiceImplSendRequestMsg.parameters/fromUser" targetedBy="1919404508-arg0"></mapper:vertice>
  <mapper:vertice id="1919404508" sourcePath="$Dynamic_Fields_Form/tns:User/tns:User_Sender"></mapper:vertice>
</mapper:mapperLink>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from>$Dynamic_Fields_Form/tns:Header/tns:Header_Text</bpel:from>
                                <bpel:to>$kokuRequestProcessingServiceImplSendRequestMsg.parameters/subject</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="1355537400" targetPath="$kokuRequestProcessingServiceImplSendRequestMsg.parameters/subject" targetedBy="1122537320-arg0"></mapper:vertice>
  <mapper:vertice id="1122537320" sourcePath="$Dynamic_Fields_Form/tns:Header/tns:Header_Text"></mapper:vertice>
</mapper:mapperLink>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from>bpel:doXslTransform("../xsl/SendRequestReceipients.xsl", $Dynamic_Fields_Form)</bpel:from>
                                <bpel:to>$kokuRequestProcessingServiceImplSendRequestMsg.parameters/receipients</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="2048171616" targetPath="$kokuRequestProcessingServiceImplSendRequestMsg.parameters/receipients" targetedBy="399419593-arg2"></mapper:vertice>
  <mapper:vertice id="399419593" dimension="217x85" location="396,312">
    <mapper:value>bpel:doXslTransform()</mapper:value>
  </mapper:vertice>
  <mapper:vertice id="885261020" dimension="170x39" location="132,312" targetedBy="399419593-arg0">
    <mapper:value>"../xsl/SendRequestReceipients.xsl"</mapper:value>
  </mapper:vertice>
  <mapper:vertice id="1074092408" sourcePath="$Dynamic_Fields_Form" targetedBy="399419593-arg1"></mapper:vertice>
</mapper:mapperLink>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from>bpel:doXslTransform("../xsl/SendRequestQuestions.xsl", $Dynamic_Fields_Form)</bpel:from>
                                <bpel:to>$kokuRequestProcessingServiceImplSendRequestMsg.parameters/questions</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="1152972945" targetPath="$kokuRequestProcessingServiceImplSendRequestMsg.parameters/questions" targetedBy="228316258-arg2"></mapper:vertice>
  <mapper:vertice id="228316258" dimension="217x85" location="348,96">
    <mapper:value>bpel:doXslTransform()</mapper:value>
  </mapper:vertice>
  <mapper:vertice id="695271583" dimension="157x37" location="132,36" targetedBy="228316258-arg0">
    <mapper:value>"../xsl/SendRequestQuestions.xsl"</mapper:value>
  </mapper:vertice>
  <mapper:vertice id="400758725" sourcePath="$Dynamic_Fields_Form" targetedBy="228316258-arg1"></mapper:vertice>
</mapper:mapperLink>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from>bpel:doXslTransform("../xsl/SendRequestMultipleChoice.xsl", $Dynamic_Fields_Form)</bpel:from>
                                <bpel:to>$kokuRequestProcessingServiceImplSendRequestMsg.parameters/choices</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="1605838004" targetPath="$kokuRequestProcessingServiceImplSendRequestMsg.parameters/choices" targetedBy="1710615808-arg2"></mapper:vertice>
  <mapper:vertice id="1710615808" dimension="217x85" location="324,192">
    <mapper:value>bpel:doXslTransform()</mapper:value>
  </mapper:vertice>
  <mapper:vertice id="1346848736" dimension="157x37" location="108,132" targetedBy="1710615808-arg0">
    <mapper:value>"../xsl/SendRequestMultipleChoice.xsl"</mapper:value>
  </mapper:vertice>
  <mapper:vertice id="1496493823" sourcePath="$Dynamic_Fields_Form" targetedBy="1710615808-arg1"></mapper:vertice>
</mapper:mapperLink>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from>$Dynamic_Fields_Form/tns:HTML/tns:HTML_Sisalto</bpel:from>
                                <bpel:to>$kokuRequestProcessingServiceImplSendRequestMsg.parameters/requestContent</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="1643417614" targetPath="$kokuRequestProcessingServiceImplSendRequestMsg.parameters/requestContent" targetedBy="327336517-arg0"></mapper:vertice>
  <mapper:vertice id="327336517" sourcePath="$Dynamic_Fields_Form/tns:HTML/tns:HTML_Sisalto"></mapper:vertice>
</mapper:mapperLink>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from>$Dynamic_Fields_Form/tns:PohjaNakyvyys/tns:PohjaNakyvyys_Arvo</bpel:from>
                                <bpel:to>$kokuRequestProcessingServiceImplSendRequestMsg.parameters/visibility</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="580248508" targetPath="$kokuRequestProcessingServiceImplSendRequestMsg.parameters/visibility" targetedBy="1283637085-arg0"></mapper:vertice>
  <mapper:vertice id="1283637085" sourcePath="$Dynamic_Fields_Form/tns:PohjaNakyvyys/tns:PohjaNakyvyys_Arvo"></mapper:vertice>
</mapper:mapperLink>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from>$Dynamic_Fields_Form/tns:User/tns:User_Reminder</bpel:from>
                                <bpel:to>$kokuRequestProcessingServiceImplSendRequestMsg.parameters/notifyBeforeDays</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="1693887878" targetPath="$kokuRequestProcessingServiceImplSendRequestMsg.parameters/notifyBeforeDays" targetedBy="532338880-arg0"></mapper:vertice>
  <mapper:vertice id="532338880" sourcePath="$Dynamic_Fields_Form/tns:User/tns:User_Reminder"></mapper:vertice>
</mapper:mapperLink>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from>$Dynamic_Fields_Form/tns:User/tns:User_AnswerUntil</bpel:from>
                                <bpel:to>$kokuRequestProcessingServiceImplSendRequestMsg.parameters/replyTill</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="30434692" targetPath="$kokuRequestProcessingServiceImplSendRequestMsg.parameters/replyTill" targetedBy="1974018189-arg0"></mapper:vertice>
  <mapper:vertice id="1974018189" sourcePath="$Dynamic_Fields_Form/tns:User/tns:User_AnswerUntil"></mapper:vertice>
</mapper:mapperLink>
                            </bpel:copy>
                        </bpdm:linkset>
                        <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="invoke-request" bpdm:messageVariable="kokuRequestProcessingServiceImplSendRequestMsg" bpdm:msgVarScopeId="_e3wNcK0ZEeCYk7-iNBydwQ" bpdm:variableIsManaged="true" bpdm:messageType="KokuRequestProcessingServiceImpl:sendRequest" bpdm:binding="KokuRequestProcessingServiceImpl:KokuRequestProcessingServiceSoapBinding" bpdm:ID="_gPE2gCZLEeGZ6qIn2ne6Bw"></bpdm:linkset>
                        <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="invoke-receive" bpdm:messageVariable="kokuRequestProcessingServiceImplSendRequestResponseMsg" bpdm:msgVarScopeId="_e3wNcK0ZEeCYk7-iNBydwQ" bpdm:variableIsManaged="true" bpdm:messageType="KokuRequestProcessingServiceImpl:sendRequestResponse" bpdm:binding="KokuRequestProcessingServiceImpl:KokuRequestProcessingServiceSoapBinding" bpdm:ID="_g2I2gCZLEeGZ6qIn2ne6Bw"></bpdm:linkset>
                    </bpdm:messagingtask>
                    <bpdm:messagingtask bpdm:label="Task" bpdm:ID="_eVpaQCZMEeGZ6qIn2ne6Bw">
                        <bpdm:linkset bpdm:type="assignments">
                            <bpel:copy>
                                <bpel:from>$kokuRequestProcessingServiceImplSendRequestResponseMsg.parameters/requestId</bpel:from>
                                <bpel:to>$Dynamic_Fields_Form/tns:RequestProcessing/tns:RequestProcessing_RequestID</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="613577127" targetPath="$Dynamic_Fields_Form/tns:RequestProcessing/tns:RequestProcessing_RequestID" targetedBy="982907588-arg0"></mapper:vertice>
  <mapper:vertice id="982907588" sourcePath="$kokuRequestProcessingServiceImplSendRequestResponseMsg.parameters/requestId"></mapper:vertice>
</mapper:mapperLink>
                            </bpel:copy>
                        </bpdm:linkset>
                    </bpdm:messagingtask>
                </bpel:sequence>
            </bpdm:gateway>
            <bpdm:gateway bpdm:label="Exclusive_Data-based_Gateway" bpdm:ID="_tBbCgNd5EeCU1O2hlInHBA" bpdm:gatewayType="data_xor" bpdm:isMerge="true"></bpdm:gateway>
            <bpel:scope bpdm:label="SubProcess" bpdm:ID="_KIczMK0hEeCYk7-iNBydwQ">
                <bpdm:linkset bpdm:type="loop" bpdm:loopType="forEach" parallel="no" counterName="emptyCounter">
                    <bpel:condition bpdm:loopType="forEachStartCounter">"1"<mapper:mapperLink><mapper:vertice id="1041568316" targetPath="$Start counter" targetedBy="351434069-arg0"></mapper:vertice><mapper:vertice id="351434069" dimension="78x24" location="262,103"><mapper:value>"1"</mapper:value></mapper:vertice></mapper:mapperLink></bpel:condition>
                    <bpel:condition bpdm:loopType="forEachFinalCounter">count($Dynamic_Fields_Form/tns:Receipients)<mapper:mapperLink><mapper:vertice id="2130089485" targetPath="$Final counter" targetedBy="2042598417-arg1"></mapper:vertice><mapper:vertice id="2042598417" dimension="78x24" location="268,143"><mapper:value>count()</mapper:value></mapper:vertice><mapper:vertice id="1033842916" sourcePath="$Dynamic_Fields_Form/tns:Receipients" targetedBy="2042598417-arg0"></mapper:vertice></mapper:mapperLink></bpel:condition>
                </bpdm:linkset>
                <bpel:variables>
                    <bpel:variable name="usersAndGroupsServiceImplGetKunpoNameByUserUidRequestMsg" messageType="UsersAndGroupsServiceImpl:UsersAndGroupsService_getKunpoNameByUserUid" binding="UsersAndGroupsServiceImpl:UsersAndGroupsServiceBinding" operation="getKunpoNameByUserUid" opMsgType="0" bpdm:id="_mE1EwPMNEeC6aqQJKR8yVQ" bpdm:messageIds=" out:_mEcDMPMNEeC6aqQJKR8yVQ">
                        <bpel:from bpdm:toPart="getKunpoNameByUserUid">
                            <bpel:literal bpdm:linkedMessageType="UsersAndGroupsServiceImpl:UsersAndGroupsService_getKunpoNameByUserUid" bpdm:linkedPart="getKunpoNameByUserUid" bpdm:binding="UsersAndGroupsServiceImpl:UsersAndGroupsServiceBinding" bpdm:opMsgType="0" bpdm:operation="getKunpoNameByUserUid"></bpel:literal>
                        </bpel:from>
                    </bpel:variable>
                    <bpel:variable name="usersAndGroupsServiceImplGetKunpoNameByUserUidResponseMsg" messageType="UsersAndGroupsServiceImpl:UsersAndGroupsService_getKunpoNameByUserUidResponse" binding="UsersAndGroupsServiceImpl:UsersAndGroupsServiceBinding" operation="getKunpoNameByUserUid" opMsgType="1" bpdm:id="_mSTgFfMNEeC6aqQJKR8yVQ" bpdm:messageIds="inc:_mRzw0PMNEeC6aqQJKR8yVQ"/>
                    <bpel:variable name="processReceipient-Process1VastaanotaMsg" messageType="ProcessReceipient-Process1:VastaanotaRequest" binding="ProcessReceipient-Process1:CanonicBindingForInterface" operation="Vastaanota" opMsgType="0" bpdm:id="_PJ5RoPjBEeC2ENkm3HmsIQ" bpdm:messageIds=" out:_PJheMPjBEeC2ENkm3HmsIQ">
                        <bpel:from bpdm:toPart="body">
                            <bpel:literal bpdm:linkedMessageType="ProcessReceipient-Process1:VastaanotaRequest" bpdm:linkedPart="body" bpdm:binding="ProcessReceipient-Process1:CanonicBindingForInterface" bpdm:opMsgType="0" bpdm:operation="Vastaanota"></bpel:literal>
                        </bpel:from>
                    </bpel:variable>
                    <bpel:variable name="processReceipient-Process1VastaanotaResponseMsg" messageType="ProcessReceipient-Process1:VastaanotaResponse" binding="ProcessReceipient-Process1:CanonicBindingForInterface" operation="Vastaanota" opMsgType="1" bpdm:id="_PnJ1YPjBEeC2ENkm3HmsIQ" bpdm:messageIds="inc:_PmQdgPjBEeC2ENkm3HmsIQ"/>
                </bpel:variables>
                <bpel:sequence>
                    <bpdm:messagingtask bpdm:label="Vastaanottajan muokkaus" bpdm:ID="_AdGhsK1BEeCYk7-iNBydwQ">
                        <bpdm:linkset bpdm:type="assignments">
                            <bpel:copy>
                                <bpel:from>bpel:doXslTransform("../xsl/SendRequestRecipientsToOne.xsl", $Dynamic_Fields_Form/tns:Receipients[$emptyCounter])</bpel:from>
                                <bpel:to>$Dynamic_Fields_Form/tns:User/tns:User_RecipientDisplay</bpel:to><mapper:mapperLink><mapper:vertice id="1302229368" targetPath="$Dynamic_Fields_Form/tns:User/tns:User_RecipientDisplay" targetedBy="2142444332-arg2"></mapper:vertice><mapper:vertice id="2142444332" dimension="224x39" location="569,118"><mapper:value>bpel:doXslTransform()</mapper:value></mapper:vertice><mapper:vertice id="1550039242" dimension="277x49" location="240,24" targetedBy="2142444332-arg0"><mapper:value>"../xsl/SendRequestRecipientsToOne.xsl"</mapper:value></mapper:vertice><mapper:vertice id="385418537" dimension="78x24" location="204,135" targetedBy="2142444332-arg1"><mapper:value>[]</mapper:value></mapper:vertice><mapper:vertice id="1860483366" sourcePath="$Dynamic_Fields_Form/tns:Receipients" targetedBy="385418537-arg0"></mapper:vertice><mapper:vertice id="1805588832" sourcePath="$emptyCounter" targetedBy="385418537-arg1"></mapper:vertice></mapper:mapperLink>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from>bpel:doXslTransform("../xsl/SendRequestRecipientsToOneUid.xsl", $Dynamic_Fields_Form/tns:Receipients[$emptyCounter])</bpel:from>
                                <bpel:to>$Dynamic_Fields_Form/tns:User/tns:User_Recipient</bpel:to><mapper:mapperLink><mapper:vertice id="552511001" targetPath="$Dynamic_Fields_Form/tns:User/tns:User_Recipient" targetedBy="323487132-arg2"></mapper:vertice><mapper:vertice id="323487132" dimension="224x39" location="509,286"><mapper:value>bpel:doXslTransform()</mapper:value></mapper:vertice><mapper:vertice id="2139552371" dimension="277x49" location="180,192" targetedBy="323487132-arg0"><mapper:value>"../xsl/SendRequestRecipientsToOneUid.xsl"</mapper:value></mapper:vertice><mapper:vertice id="1990514029" dimension="78x24" location="144,303" targetedBy="323487132-arg1"><mapper:value>[]</mapper:value></mapper:vertice><mapper:vertice id="1379977857" sourcePath="$Dynamic_Fields_Form/tns:Receipients" targetedBy="1990514029-arg0"></mapper:vertice><mapper:vertice id="2139594995" sourcePath="$emptyCounter" targetedBy="1990514029-arg1"></mapper:vertice></mapper:mapperLink>
                            </bpel:copy>
                        </bpdm:linkset>
                    </bpdm:messagingtask>
                    <bpdm:messagingtask eventType="intermediate: message" operation="getKunpoNameByUserUid" partnerLink="servicesAndProcessForUsersAndGroupsServicePortPlkVar" portType="UsersAndGroupsServiceImpl:UsersAndGroupsService" isMyRole="false" enableSharing="false" bpdm:label="Hae KunpoTunnus" bpdm:ID="_aPlVEPMNEeC6aqQJKR8yVQ">
                        <bpdm:linkset bpdm:type="assignments">
                            <bpel:copy>
                                <bpel:from>$Dynamic_Fields_Form/tns:User/tns:User_Recipient</bpel:from>
                                <bpel:to>$usersAndGroupsServiceImplGetKunpoNameByUserUidRequestMsg.getKunpoNameByUserUid/userUid</bpel:to><mapper:mapperLink><mapper:vertice id="304213374" targetPath="$usersAndGroupsServiceImplGetKunpoNameByUserUidRequestMsg.getKunpoNameByUserUid/userUid" targetedBy="1148985382-arg0"></mapper:vertice><mapper:vertice id="1148985382" sourcePath="$Dynamic_Fields_Form/tns:User/tns:User_Recipient"></mapper:vertice></mapper:mapperLink>
                            </bpel:copy>
                        </bpdm:linkset>
                        <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="invoke-request" bpdm:messageVariable="usersAndGroupsServiceImplGetKunpoNameByUserUidRequestMsg" bpdm:msgVarScopeId="_KIczMK0hEeCYk7-iNBydwQ" bpdm:variableIsManaged="true" bpdm:messageType="UsersAndGroupsServiceImpl:UsersAndGroupsService_getKunpoNameByUserUid" bpdm:binding="UsersAndGroupsServiceImpl:UsersAndGroupsServiceBinding" bpdm:ID="_mEcDMPMNEeC6aqQJKR8yVQ"></bpdm:linkset>
                        <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="invoke-receive" bpdm:messageVariable="usersAndGroupsServiceImplGetKunpoNameByUserUidResponseMsg" bpdm:msgVarScopeId="_KIczMK0hEeCYk7-iNBydwQ" bpdm:variableIsManaged="true" bpdm:messageType="UsersAndGroupsServiceImpl:UsersAndGroupsService_getKunpoNameByUserUidResponse" bpdm:binding="UsersAndGroupsServiceImpl:UsersAndGroupsServiceBinding" bpdm:ID="_mRzw0PMNEeC6aqQJKR8yVQ"></bpdm:linkset>
                    </bpdm:messagingtask>
                    <bpdm:messagingtask bpdm:label="Vastaanottajan kunponimen lisäys" bpdm:ID="_G99zEPMQEeC6aqQJKR8yVQ">
                        <bpdm:linkset bpdm:type="assignments">
                            <bpel:copy>
                                <bpel:from>$usersAndGroupsServiceImplGetKunpoNameByUserUidResponseMsg.getKunpoNameByUserUidResponse/kunpoUsername</bpel:from>
                                <bpel:to>$Dynamic_Fields_Form/tns:User/tns:User_RecipientDisplay</bpel:to><mapper:mapperLink><mapper:vertice id="1912948357" targetPath="$Dynamic_Fields_Form/tns:User/tns:User_RecipientDisplay" targetedBy="856057295-arg0"></mapper:vertice><mapper:vertice id="856057295" sourcePath="$usersAndGroupsServiceImplGetKunpoNameByUserUidResponseMsg.getKunpoNameByUserUidResponse/kunpoUsername"></mapper:vertice></mapper:mapperLink>
                            </bpel:copy>
                        </bpdm:linkset>
                    </bpdm:messagingtask>
                    <bpdm:messagingtask eventType="intermediate: message" operation="Vastaanota" partnerLink="servicesAndProcessForCanonicPortPlkVar" portType="ProcessReceipient-Process1:ForInterface" isMyRole="false" enableSharing="false" bpdm:label="Message_Intermediate_Event" bpdm:ID="_ON3uQPjBEeC2ENkm3HmsIQ">
                        <bpdm:linkset bpdm:type="assignments">
                            <bpel:copy>
                                <bpel:from>$Dynamic_Fields_Form</bpel:from>
                                <bpel:to>$processReceipient-Process1VastaanotaMsg.body</bpel:to><mapper:mapperLink><mapper:vertice id="115322315" targetPath="$processReceipient-Process1VastaanotaMsg.body" targetedBy="1219890618-arg0"></mapper:vertice><mapper:vertice id="1219890618" sourcePath="$Dynamic_Fields_Form"></mapper:vertice></mapper:mapperLink>
                            </bpel:copy>
                        </bpdm:linkset>
                        <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="invoke-request" bpdm:messageVariable="processReceipient-Process1VastaanotaMsg" bpdm:msgVarScopeId="_KIczMK0hEeCYk7-iNBydwQ" bpdm:variableIsManaged="true" bpdm:messageType="ProcessReceipient-Process1:VastaanotaRequest" bpdm:binding="ProcessReceipient-Process1:CanonicBindingForInterface" bpdm:ID="_PJheMPjBEeC2ENkm3HmsIQ"></bpdm:linkset>
                        <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="invoke-receive" bpdm:messageVariable="processReceipient-Process1VastaanotaResponseMsg" bpdm:msgVarScopeId="_KIczMK0hEeCYk7-iNBydwQ" bpdm:variableIsManaged="true" bpdm:messageType="ProcessReceipient-Process1:VastaanotaResponse" bpdm:binding="ProcessReceipient-Process1:CanonicBindingForInterface" bpdm:ID="_PmQdgPjBEeC2ENkm3HmsIQ"></bpdm:linkset>
                    </bpdm:messagingtask>
                </bpel:sequence>
            </bpel:scope>
        </bpel:sequence>
    </bpel:scope>
</bpel:process>